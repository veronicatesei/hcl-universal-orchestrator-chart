######################################################################
# Licensed Materials Property of HCL*
# (c) Copyright HCL Technologies Ltd. 2020, 2025. All rights reserved.
#
# * Trademark of HCL Technologies Limited
######################################################################

global:
  # debug enables and disables the debugging mode. Supported values are true and false.
  debug: false

  # license indicates whether you accept the license. Supported values are accept and not accepted. Mandatory parameter.
  license: "not accepted"
  # serviceAccountName is the name of a custom service account to be used for deployments, for example to deploy HCL Workload Automation.
  serviceAccountName:
  # configPlugins is the ConfigMap containing list of plugin to be installed.
  configPlugins: 
  # pluginImageRepository is the name of the repository that contains the image with tags for Automation Hub integrations.
  pluginImageRepository: hclcr.io/wa
  # pluginImageName is the name of the image with tags for Automation Hub integrations.
  pluginImageName: hcl-workload-automation-plugins:1.0.26
  # extraImages is the list of images with tags containing OCLI and agent for download from engine.
  extraImages:
    - registry: hclcr.io/uno
      name: hcl-uno-external-pod:2.1.3.0
  customLabels:
    - name: "environment"
      value: "prod"
  customPodAnnotations:
    env.name: "" 
  customEnv:
  #- name: "MY_ENVKEY"
  #  value: "MY_EN_VALUE"
  #enableTestPrereq: true
  enableUnoAIPilot: false
  enableAgenticAIBuilder: false
  postgres:
    usePercona: true
  # deploymentType specifies the type of deployment. Supported values are full and aio. The full deployment includes all microservices as single pod, while the aio deployment include all the microservices deployed as a single pod.
  deploymentType: "full"
  # Hcl additional imagePullSecret to add to service account
  hclImagePullSecret:
  # cloudCredentials specify the service accounts to access cloud services
  # This is only used in case internal genai service
  cloudCredentials:
    gcp:
      # gcp is the GCP service account key in JSON format. Replace the value with your GCP service account file content encoded in base64.
      serviceFile:
      # gcpProjectId is the GCP project ID. Replace the value with your GCP project ID.
      projectId:
    aws:
      # accessKeyId is the AWS access key ID. Replace the value with your AWS access key ID.
      accessKeyId:
      # secretAccessKey is the AWS secret access key. Replace the value with your AWS secret access key.
      secretAccessKey:
      # region is the AWS region. Replace the value with your AWS region.
      region:
      # roleArn is the AWS role ARN. Used in case of MFA configured account
      roleArn:
    azure:
      # serviceUrl is the Azure service URL of the genai service. Replace the value with your Azure service URL.
      serviceUrl:
      # apiKey is the Azure API key to access the GenAI service. Replace the value with your Azure API key.
      apiKey:
    openai:
      # baseUrl is the base URL of the OpenAI service. Mandatory parameter.
      baseUrl: https://api.openai.com/v1
      # genaiUri is the URI of the OpenAI service for chat completions. Mandatory parameter.
      genaiUri: /chat/completions
      # apiKey is the OpenAI API key to access the GenAI service. Replace the value with your OpenAI API key.
      apiKey:
# nameOverride changes the resources names. By default, the release name is used.
nameOverride: ""

database:
  # url is the URL of the database. Mandatory parameter.
  url: mongodb://hcl-uno-db-mongodb.db.svc.cluster.local:27017
  # type is the type of the database. Supported value is mongodb.
  type: mongodb
  # databaseName is the name of the database.
  databaseName: uno
  # username is the name of the database user. Mandatory parameter.
  username: 
  # password is the password of the database user. Mandatory parameter.
  password:
  # tls specifies whether TLS is enabled. Supported values are true and false.
  tls: false
  # tlsInsecure specifies whether certificate validation must be skipped. Supported values are true and false.
  tlsInsecure: false
  # Specifies the minimum number of connections in the pool.
  databaseMinPoolSize: 1
  # Specifies the maximum number of connections in the pool.
  databaseMaxPoolSize: 20

kafka:
  # url is the URL of the event streaming platform. Mandatory parameter.
  url: hcl-uno-kafka-0.kafka-headless.kafka.svc.cluster.local:9092
  # prefix of topic name
  prefix:
  # username is the name of the kafka user. Mandatory parameter.
  username: 
  # password is the password of the kafka user. Mandatory parameter.
  password:
  # tls specifies whether TLS is enabled. Supported values are true and false.
  tls: false
  # tlsInsecure specifies whether certificate validation must be skipped. Supported values are true and false.
  tlsInsecure: false
  # Kafka sasl mechanism as kafka client configuration provides.
  saslMechanism:
  # Kafka jass config as kafka client configuration provides.
  jaasConfig:
  # Kafka security protocol as kafka client configuration provides.
  securityProtocol:
  #kerberos service name
  kerberosServiceName:
  #Oauth login call back handler class
  oauthLoginCallbackHandlerClass:
  #Oauth token endpoint url
  oauthTokenEndpointUrl:
  # topicReplicas is the number of replicas for the topic.
  topicReplicas: 1
config:
  serviceAccount:
    # use the serviceAccount.annotations to add annotations to serviceAccount.
    annotations:
      #MY_ANNOTATION_NAME: MY_ANNOTATION_VALUE
  license:
    # Url of MHS license server
    licenseServerUrl: https://api.hcltechsw.com
    # Key of Deployment on MHS license server
    licenseServerKey:
    proxy:
      # optional proxy configuration to access the GenAI service.
      hostname:
      port:
      username:
      password:
  audit:
      # max number of days to keep audit logs
      retentionDays: P400D
  # multitenant configuration
  multitenant:
    # Enables multitenant support. Supported values are true and false.
    enabled: false
    # commonTenantDatabaseName is the name of the database used for common tenant data.
    commonTenantDatabaseName: multitenant-common
    # tenantDbPrefix is the prefix used for tenant databases.
    tenantDbPrefix: uno-tenant-
    trial:
      # defaultExpiration is the default expiration time for trial tenants.
      defaultExpiration: P30D
      # cleanupDelay is the delay after which expired trial tenants are cleaned up.
      cleanupDelay: P60D
    subscribed:
      # cleanupDelay is the delay after which expired subscribed tenants are cleaned up.
      cleanupDelay: P366D
    # expirationCheckInterval is the interval at which expired tenants are checked.
    expirationCheckInterval: PT6H
    # maximum duration for which audit logs are retained. After this duration, audit logs are deleted.
    auditMaxRetentionDuration: P3650D
    # frequency for the cleanup job that deletes old audit logs.
    auditCleanupFrequency: P1D
    # region identifies the deployment.
    region: development
    # max value for job per day for TRIAL
    trialMaxJobPerDay : 500
    # max value for AI Agent calls per day for TRIAL
    trialMaxAIAgentPerDay : 500
    # token value per job
    tokenPerJob: 1
    # token value per AI Agent call
    # 1 token = 8 ai agent calls
    tokenPerAIAgentCall: 0.125
    # for internal use only
    tenantMetricsEnabled: false
    # the support email address or http(s) link to include in the tenant notification emails for trials. Optional.
    trialSupportLink: mailto:support@example.com
    # the support email address or http(s) link to include in the tenant notification emails for subscribed tenants. Optional.
    subscribedSupportLink: https://support.example.com
    # the name to include in the "from" field of the tenant notification emails. Optional.
    eMailSender: UnO SaaS
    # Custom subject for the email sent as notifications when a tenant is created. Optional.
    # Use ${TENANT_NAME} as a placeholder for the tenant name.
    eMailTenantReadySubject: "Your UnO Tenant ${TENANT_NAME} is Ready"
    # Custom template in HTML format for the email sent as notifications when a tenant is created. Optional.
    # Use ${TENANT_NAME}, ${TENANT_URL} as placeholders for the tenant name and URL,
    # ${SUPPORT_LINK}, and ${SUPPORT_TXT} as placeholders for the support link and text (based on trial or subscribed support links above)
    eMailTenantReadyTemplate: # |
      # <!DOCTYPE html>
      # <html lang="en">
      # <head>
      #   <title>UnO Tenant is Ready</title>
      # </head>
      # <body>
      #   <div>
      #     <h2>
      #       HCL Universal Orchestrator tenant <strong>${TENANT_NAME}</strong> is now ready.
      #     </h2>
      #     <p>Hello,</p>
      #     <p>The requested tenant <strong>${TENANT_NAME}</strong> has been successfully provisioned and is now ready for use.</p>
      #     <p>To access the tenant follow the following link: <a href="${TENANT_URL}">${TENANT_URL}</a></p>
      #     <p>For any assistance, please contact support at ${SUPPORT_EMAIL}.</p>
      #   </div>
      # </body>
      # </html>
    # For internal use only
    marketplace:
      # HCLSoftware is the configuration for the HCL Software marketplace.
      HCLSoftware:
        enabled: false
        kafka:
          url:
          username:
          password:
          topic:
        schemaRegistry:
          url:
          username:
          password:
        tokenizer:
          url:
          auth:
        # regions is the list of regions managed by the tenant manager, Used to filter the tenant creation messages. The first one is used as region for the tenant created manually via API/UI
        regions:
        # - us
        # - europe
        # planIds is the list of plan IDs that are managed by the tenant manager, Used to filter the tenant creation messages.
        planIds:
        - TNxxxx
        # mhsOauth2 is the OAuth2 configuration to gain access to MHS services
        MHSOAuth2:
          # Url of the OAuth2 token endpoint
          serverUrl:
          # The client id to access MHS services
          clientId:
          # Client secret to access MHS services
          clientSecret:
        # license multiplier, used to calculate the license quantity with respect to the quantity coming from marketplace
        licenseMultiplier: 1
    # cert-manager certificate Issuer for tenant manager if not specified it uses the default one
    tenantManagerIngressCertIssuer:
    # Tenant administrators
    admins:
      # List of user IDs that are authorized as tenant administrators
      userIds:
      # - unoSaaSAdmin@example.com
      # List of group IDs that are authorized as tenant administrators
      groupIds:
      # - SaaSAdmins
      # A list of user ID regex patterns to further filter user IDs.
      # This is used in conjunction to groupIds.
      # If at least a filter is specified, Users that has at least one group in groupIds will also need to have a user ID matching at least one of the filters.
      userIdFilters:
      # - .*@example.com
    justification:
      # justificationCategoryRequired specifies whether the justification category is mandatory for tenants. Supported values are true and false.
      justificationCategoryRequired: false
      # justificationTicketNumberRequired specifies whether the justification ticket number is mandatory for tenants. Supported values are true and false.
      justificationTicketNumberRequired: false
      # justificationDescriptionRequired specifies whether the justification description is mandatory for tenants. Supported values are true and false.
      justificationDescriptionRequired: false
      # list of all the possible justification categories for the tenant manager, comma separated.
      justificationCategories: Change Request,Trouble Ticket,New Application,Optimization,Emergency Change

  registry:
    # name is the name of your registry.
    name:  hclcr.io/uno
    # pullPolicy defines when data is pulled from your event streaming platform. Supported values are Always, Never, IfNotPresent.
    pullPolicy: Always
    # tag is the tag of the image. The default value is latest.
    tag: 2.1.3.0
  orchestrator:
    # Specifies for how long the Task Run History is retained (in ISO 8601 format, e.g., P400D).
    jobRunHistoryRetentionDuration: P400DT0H
    # the maximum number of nested workflow in the plan. The subflow jobs exceeding this value will end in FAIL
    maxNestingLevel: 50
    # the time windows, in seconds, that permits the user to cancel the completion of a human task
    humanTaskCancelWindowSeconds: 20
  planning:
    # max number of days to generate not active instance
    notActiveWindowMax: P9DT0H
    # min number of days to generate not active instance
    notActiveWindowMin: P7DT0H
    # Frequency to activate not active instances
    activeWindowExtension: PT5M
    # How long is the windows of active instance (how long the plan is)
    activeWindow: PT24H
    # How long is the windows of plan in the past
    daysRetentionPlan: P7DT0H
    # How long is the windows of plan in the past for failed jobs
    daysRetentionFailPlan: P30DT0H
    # Frequency to remove the past failed jobs
    frequencyFailJobCleanUp: PT1H
  console:
    # enableLogout specifies whether the Console logout is enabled. Supported values are true and false.
    enableLogout: false
    # defines the minutes after which the user is considered inactive and gets logged out from the UI. Supported values are integers.
    sessionTimeoutMinutes: 30

  genai:
    # Enables the AI Agent and AI Pilot generative AI features. Supported values are true and false.
    # By enabling this feature with internal as false, you agree that AI Agent and AI Pilot prompts will be sent to HCL Software.
    # We can collect statistical data for analytics and licensing purposes, but we won't retain the prompt content.
    # All information will be handled according to HCL Software privacy policy.
    enabled: false
    # the URL of the GenAI service.
    serviceUrl: https://genai.services.hcluno.cloud
    # betaKey is the custom key to access the GenAI service provided by HCL Software for beta testing.
    betaKey:
    # optional proxy configuration to access the GenAI service.
    proxy:
      # The hostname of the proxy server.
      hostname:
      # The port of the proxy server.
      port:
      # The username to authenticate to the proxy server.
      username:
      # The password to authenticate to the proxy server.
      password:
    # max number of user prompts to be sent to LLM for context.
    maxUserPrompts:
    # max number of actions triggered in a conversation.
    maxActionPerConversation:
    # max number of conversation that can happen without a user prompt.
    maxUnattendedActions:
    # Enables the GenAI service to be deployed in the same cluster in order to your own accounts for LLM services. Supported values are true and false.
    internal: false

    # Below information are only used if the genai service is internal deployment.
    # Gemini model used for AI Pilot. This is also the default model used for AI Agents. It must be a Gemini model.
    defaultVertexAiModel: gemini-2.0-flash
    # timeout is the timeout for the GenAI service requests.
    timeout:
    # These models may take upto 5 minutes to reflect in the other services.

    agentModels:
      # Model names that work with GenAI service for AI Agents from vertex-ai
      vertexAiModels:
      # Model names that work with GenAI service for AI Agents from open ai
      openAiModels:
      # Model names that work with GenAI service for AI Agents from bedrock
      bedrockModels:

  engine:
    # allowed_referer specifies the allowed referer for the engine and console in case of Invalid Referer.
    allowed_referer:
    # justificationsEnabled specifies whether the justification feature is enabled. Supported values are true and false.
    justificationEnabled: false
    # justificationCategoryRequired specifies whether the justification category is mandatory. Supported values are true and false.
    justificationCategoryRequired: false
    # justificationTicketNumberRequired specifies whether the justification ticket number is mandatory. Supported values are true and false.
    justificationTicketNumberRequired: false
    # justificationDescriptionRequired specifies whether the justification description is mandatory. Supported values are true and false.
    justificationDescriptionRequired: false

  mail:
    enabled: false
    smtp:
      # host is the SMTP host to send emails.
      host: smtp.example.com
      # port is the SMTP port to send emails.
      port: 587
      # startTlsEnabled specifies whether STARTTLS is enabled. Supported values are true and false.
      startTlsEnabled: true
      # sslCheckServerIdentity specifies whether the server identity is checked. Supported values are true and false.
      sslCheckServerIdentity: true
      # sslTrust specifies which servers are trusted.
      sslTrust: #host.trusted.com
      # connectionTimeoutMs is the timeout in milliseconds for connecting to the SMTP server.
      connectionTimeoutMs: 30000
    # from is the email address from which the emails are sent. Mandatory if mail is enabled.
    # optionally, specify the name of the sender in the format "Sender name example<from@mail.com>"
    from: #from@mail.com
    # credentialsSecretName is the name of the Kubernetes secret that contains the SMTP credentials. If smtp is enabled, this is a mandatory parameter.
    # The secret must contain the following keys: USERNAME and PASSWORD.
    credentialsSecretName: uno-smtp-credentials

  endpoint:
    # endpoint where the console is exposed.
    console: #https://console.example.com
    # endpoint where the gateway is exposed.
    gateway: #https://gateway.example.com

  encryption:
    # The password or key to encrypt data, such as passwords, agent database, and kafka messages.
    key:

  plugins:
    #If the size of the plug-in that needs to be installed exceeds 10 MB, specify a value higher than the plug-in size.
    maxSize:
    #Controls whether user can perform plugin management operations (install, update, delete), Supported values are true and false.
    managePluginsEnabled: true
  eventmanager:
    plugins:
      gcp:
        # baseServicePath is the base path of the Google Cloud Platform (GCP) service.
        baseServicePath:
  certificates:
    # useCustomizedCert specifies if you use custom certificates or certificates generated by cert-manager. Supported values are true and false. If you set it to false, certificates are defined by the deployment process. If you set it to true, provide the required certificates and customize the parameters listed below.
    useCustomizedCert: false
    #Ignore SSL hostname verfication. if the certificates of microservices are not generated with the corrent hostname enable this option
    disableHostnameVerification: false
    # customIssuer is the name of the issuer. This parameter applies if you set useCustomizedCert to false. If not specified, a self-signed issuer is created.
    customIssuer:
    # customIngressIssuer is the optional name of the certificate issuer that overrides internal issuer with a specific one to be used only for ingress.
    customIngressIssuer:
    # caPairSecretName is the name of the pair secret. This parameter applies if you set useCustomizedCert to true.
    caPairSecretName: ca-key-pair
    # certSecretName is the name of the secret. This parameter applies if you set useCustomizedCert to true.
    certSecretName: uno-certificate
    # certExtAgtSecretName is the name of the secret of the external agent. This parameter applies if you set useCustomizedCert to true.
    certExtAgtSecretName: uno-certificate-ext-agt
    # caDuration is the duration of the ca certificates before they are set to expire. This parameter applies if you set useCustomizedCert to false.
    caDuration: 26298h
    # caRenewBefore is the time before the ca certificate expires when the certificate manager service begins attempts to renew the certificate. This parameter applies if you set useCustomizedCert to false.
    caRenewBefore: 22332h
    # duration is the duration of the certificates before they are set to expire. This parameter applies if you set useCustomizedCert to true.
    duration: 2160h
    # renewBefore is the time before the certificate expires when the certificate manager service begins attempts to renew the certificate. This parameter applies if you set useCustomizedCert to true.
    renewBefore: 360h
    # organization is the organization label within the certificates. This parameter applies if you set useCustomizedCert to true.
    organization: hcl
    # additionalCASecrets contains secret names for additional CAs, for example to trust MongoDb, Kafka, OIDC certificates.
    additionalCASecrets:
    #  - secretname1

  apiKey:
    # lifespanWarningDays specifies how many days before API Key expiration you are notified about it.
    lifespanWarningDays: 5
    # apikeyPersonalExpirationDuration is the amount of time on or after which the Personal API Keys expire. It is calculated starting from API Key creation.
    apikeyPersonalExpirationDuration: P365D
    # apikeyServiceExpirationDuration is the amount of time on or after which the Service API Keys expire. It is calculated starting from API Key creation.
    apikeyServiceExpirationDuration: P365D
    # groupsCacheExpirationDuration is the amount of time on or after which users must login again to the authentication provider to use Personal API Keys.
    groupsCacheExpirationDuration: P30D
    # cleanupFrequencyForPending indicates how often the IAA service checks in the database for API Keys whose token has not been created after the cleanupFrequencyForPending timeout has expired.
    cleanupFrequencyForPending: PT1M
    # cleanupTimeoutForPending indicates the amount of time after which API Keys must be deleted if the related token has not been created. The maximum supported value is 1 day.
    cleanupTimeoutForPending: PT15M # Maximum allowed value is 1d

  jwt:
    # jwtSecretName is the name of your custom Kubernetes secret used to sign JWTs.
    jwtSecretName:
    # internalExpirationDuration is the amount of time on or after which the internal JWT expires.
    internalExpirationDuration: PT10M

  tracing:
    # enabled specifies whether tracing is enabled. Supported value are true and false.
    enabled: true
    # otelEndpoint is the endpoint to which OpenTelemetry traces are sent.
    otelEndpoint: http://simplest-collector.default:4317/api/traces
    # traceAll specifies whether all events are traced. Supported value are true and false. If you set it to true, also internal calls are traced.
    traceAll: false

authentication:
  # adminName is the name of the admin user. The default security policy will be created or updated for that user.
  adminName: "wauser"
  #apiHostname specifies the API gateway hostname and is used only when ingress.enabled is set to false.
  apiHostname: gateway
  oidc:
    # connectionTimeout is the amount of time on or after which connection to OIDC provider goes in timeout.
    connectionTimeout: PT1M
    # enabled specifies whether authentication through OpenID Connect (OIDC) server is enabled. 
    # If enabled is set to false, the other properties in this section are ignored.
    enabled: false
    # useToManageApiKeys specifies whether the OpenID Connect (OIDC) server must be used to manage API keys in case of fail (for example, when authentication information expires).
    # Supported values are true and false. 
    useToManageApiKeys: true
    # server is the base URL of the OpenID Connect (OIDC) server. This parameter applies when enabled is set to true.
    server: https://unokeycloak.k8s.uat.uno/realms/uno
    # clientId is the client-id of the application in the OpenID Connect (OIDC) server. This parameter applies when enabled is set to true.
    clientId: uno-service
    # credentialSecret is the client secret which is used for a client_secret_basic authentication with OpenID Connect (OIDC) server. This parameter applies when enabled is set to true.
    credentialSecret: put_oidc_secret_here
    # encryptTokensInCookie enables the encryption of the tokens before being stored in the cookies. This parameter applies when enabled is set to true.
    encryptTokensInCookie: true
    # splitTokensInCookie set false to keep all OIDC-related tokens (ID, access and refresh) in a single session cookie. Set true to minimize session cookie size. This parameter applies when enabled is set to true.
    splitTokensInCookie: true
    # tlsVerification enables both certificate validation and hostname verification. You can use the config.certificates.additionalCASecrets parameter to add a secret for the OpenID Connect (OIDC) server CA. This parameter only applies when enabled is set to true.
    # Supported values are:
    # "none"                   : All certificates are trusted and hostname verification is disabled
    # "required"               : Certificates are validated and hostname verification is enabled
    # "certificate-validation" : Certificates are validated and hostname verification is disabled
    tlsVerification: "required"
    # The path to the claim in the JWT token which contains the roles to be mapped to Quarkus security roles
    groupClaimPath : ""
    # The name of the claim in the JWT token whose value will be used as the principal name
    principalClaim : ""
    # The list of scopes that must be granted to the access token for the authentication to succeed
    authenticationScope : ""
    # The path to the claim in the JWT token that contains the group names for the user
    jwtGroupClaimPath : ""

# bulkhead defines the policy to be used on the gateway endpoint for avoiding bulk requests and block DDOS attacks against these contexts.
bulkhead:
  request:
    # maxValue defines the maximum number of concurrent calls to an instance. The value must be greater than 0.
    maxValue: 12
    # waitingTaskQueue defines the maximum number of calls which can be kept waiting in each queue. The value must be greater than 0.
    waitingTaskQueue: 12

routes:
  # enabled specifies whether a Openshift route is enabled to route traffic from external sources to the applications in the cluster. Supported values are true and false.
  enabled: true
  #  specifies whether a Openshift route ssl termination . Supported values are passthrough and reencrypt.
  termination:
ingress:
  # enabled specifies whether an ingress is enabled to route traffic from external sources to the applications in the cluster. Supported values are true and false.
  enabled: true
  # ingressClassName is a unique identifier for the ingress controller.
  ingressClassName: nginx
  # baseDomainName is the name of the base domain for using the ingress controller. This parameter applies if you set enabled to true.
  baseDomainName: .k8s.uat.uno
  annotations:
    # For more information, see the ingress controller documentation.
    #kubernetes.io/ingress.class: nginx
    #kubernetes.io/tls-acme: "true"
    #
    # When using ingress-nginx controller, specify the following properties to set proper client-header buffers
    #nginx.ingress.kubernetes.io/client-header-buffer-size: 8k
    #nginx.ingress.kubernetes.io/large-client-header-buffers: 8 64k
    #
    # When using nginx-ingress controller, specify the following properties to set proper client-header buffers.
    # To use server-snippets, set allow-snippet-annotations to true in the ingress controller.
    #nginx.ingress.kubernetes.io/server-snippet: client_header_buffer_size 8k; large_client_header_buffers 4 64k;
  hosts:
    - host: chart-example.local
      paths: []
  tls: []
  #    secretName is the name of the secret.
  #  - secretName: chart-example-tls
  #    hosts specifies the names of the hosts to which the secret applies.
  #    hosts:
  #      - chart-example.local


deployment:
  global:
    # debug enables and disables the debugging mode. Supported values are true and false.
    debug: false
    # minTargetReplicas is the minimum number of target replicas to be deployed for each microservice.
    minTargetReplicas: 1
    # maxTargetReplicas is the maximum number of target replicas to be deployed for each microservice.
    maxTargetReplicas: 3
    # traceLevel specifes the trace detail level for trace.log. Supported values are ALL,FINE,INFO.
    traceLevel: "INFO"
    autoscaler:
      # cpuAverageUtilization specifies the average usage of CPU which starts the autoscaler.
      cpuAverageUtilization: 200
    podDisruptionBudget:
      # enabled specifies whether a PodDisruptionBudget is enabled. Supported values are true and false.
      enabled: true
      # maxUnavailable is the maximum number, or percentage, of unavailable pods during the disruption.
      maxUnavailable: "33%"
    resources:
      limits:
        # cpu is the maximum amount of cpu services can use.
        cpu: "2"
        # memory is the maximum amount of memory services can use.
        memory: "1024Mi"
      requests:
        # cpu is the minimum amount of cpu services require to run.
        cpu: "0.3"
        # memory is the minimum amount of memory services require to run.
        memory: "512Mi"
  # The properties listed below apply to single microservices. You can use them to override the global settings defined above for one or more microservices.
  console:
    # ingressPrefix is the prefix of the name of the endpoint of the console microservice.
    ingressPrefix: "console"
    #minTargetReplicas: 1
  agentmanager:
    # ingressPrefix is the prefix of the name of the endpoint of the agentmanager microservice.
    ingressPrefix: "agentmanager"
    #minTargetReplicas: 1
  gateway:
    # ingressPrefix is the prefix of the name of the endpoint of the gateway microservice.
    ingressPrefix: "gateway"
    #minTargetReplicas: 1
  eventmanager:
    #minTargetReplicas: 1
  audit: 
    #minTargetReplicas: 1
  toolbox: 
    #minTargetReplicas: 1
  iaa: 
    #minTargetReplicas: 1
  executor:
    enableExecutorSandbox: "false"
    #minTargetReplicas: 1
  orchestrator: 
    #minTargetReplicas: 1
    resources:
      limits:
        cpu: "2"
        memory: "1024Mi"
      requests:
        cpu: "0.3"
        memory: "1024Mi"
    #databaseMinPoolSize: 1
    #databaseMaxPoolSize: 20
  console-aio:
    resources:
      limits:
        cpu: "4"
        memory: "2048Mi"
      requests:
        cpu: "3.5"
        memory: "2048Mi"
    autoscaler:
      # cpuAverageUtilization specifies the average usage of CPU which starts the autoscaler.
      cpuAverageUtilization: 80

  scheduler: 
    #minTargetReplicas: 1
  storage: 
    #minTargetReplicas: 1
  timer: 
    #minTargetReplicas: 1
  notification:
    #minTargetReplicas: 1
  tenantmanager:
    minTargetReplicas: 2
    maxTargetReplicas: 2
    databaseName: "tenantmanager-db"
agenticAIBuilder:
  telemetry:
    # To enable telemetry
    enableTelemetry: "false"
    # The endpoint for traces 
    inferenceEndpoint : ""
    # The base URL for metrics
    telemetryBaseUrl : ""
    # The service name to be used in telemetry data
    telemetryServiceName: ""
    # The interval in milliseconds for exporting telemetry data
    telemetryExportIntervalMillis: "60000"
    # Protocol to be used for metrics export (http or grpc)
    telemetryMetricsProtocol: "http"
    # Protocol to be used for trace export (http or grpc)
    telemetryTraceProtocol: "http"
    #Set to "true" to disable TLS for trace export (useful for testing with insecure endpoints), supported values: "true" or "false"
    telemetryMetricInsecure: "true"
    # Set to "true" to disable TLS for trace export (useful for testing with insecure endpoints), supported values: "true" or "false"
    telemetryTraceInsecure: "true"
    # If your telemetry exporter requires a certificate, provide it here the secret name, the field telemetryTraceInsecure must be "false" or telemetryMetricInsecure must be "false"
    telemetryExporterCertificate: ""
    # If your telemetry exporter requires a certificate, provide it here the key inside the secret that points to the certificate, the field telemetryTraceInsecure must be "false" or telemetryMetricInsecure must be "false"
    telemetryExporterCertificateKey: "tls.crt"
    # If your telemetry exporter requires headers, provide them here in the format "key1=value1,key2=value2"
    telemetryExporterHeaders: ""
    # Timeout in milliseconds for the telemetry exporter
    telemetryExporterTimeoutMillis: "10000"
  
  common:
    truststore:
      agenticAdditionalCASecrets: 
        - "uno-certificate"
    rest:
      timeout: "30"
      scheme: "https"
      # SSL Client Configuration
      ssl:
        enabled: "true"
        # Client Configuration for Mutual TLS
        certSecretName: ""
        #By default the SecretKey is "tls.crt", you can override it by specifying the
        certSecretKey: ""

        certKeySecretName: ""
        #By default the SecretKey is "tls.key", you can override it by specifying the
        certKeySecretKey: ""

        certKeyPassword: ""
        # Optional CA for Mutual TLS, If not provided the trustore CA will be used
        certCaSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the
        certCaSecretKey: ""
        # Client Configuration for One-way TLS to verify server certificate
        caSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the caSecretKey
        caSecretKey: "" 
        # Whether to validate the hostname in the server certificate
        hostnameValidation : "true"
    # By default the values are configured to work with the default Valkey deployed by the bitnami/valkey chart.
    valkey:
      # valkeyPasswordSecret is the name of the Kubernetes secret that contains the Valkey password.
      valkeyPasswordSecret : "valkey-password-secret"
      # valkeyPasswordSecretKey is the key in the Kubernetes secret that contains the Valkey password.
      valkeyPasswordSecretKey: "password"
      # valkeyPassword is the Valkey password. If you set valkeyPasswordSecret, this parameter is ignored.
      valkeyPassword : ""
      # valkeyHost is the hostname of the Valkey service.
      valkeyHost: "valkey-primary"
      # valkeyPort is the port of the Valkey service.
      valkeyPort: "6379"
      # valkeyDb is the database number of the Valkey service.
      valkeyDb: "0"
      # Username To be used to connect to Valkey service.
      valkeyUser:
      #SSL Configuration for Valkey connection
      ssl:
        enabled: "false"
        # Client Configuration for Mutual TLS
        certSecretName: ""
        #By default the SecretKey is "tls.crt", you can override it by specifying the
        certSecretKey: ""

        certKeySecretName: ""
        #By default the SecretKey is "tls.key", you can override it by specifying the
        certKeySecretKey: ""

        certKeyPassword: ""
        # Optional CA for Mutual TLS, If not provided the trustore CA will be used
        certCaSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the
        certCaSecretKey: ""
        # Client Configuration for One-way TLS to verify server certificate
        caSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the caSecretKey
        caSecretKey: ""
        # Whether to validate the hostname in the Valkey certificate
        hostnameValidation : "true"

    # By default the values are configured to work with the default pgvector deployed by UNOAIPilot.
    # If you want to use a different PostgreSQL service, you can override the values below
    # to point to your PostgreSQL service.
    postgres:
      #The postgres User used by the application
      postgresUser: agenticbuilder
      #The postgres port
      postgresPort : "5432"
      #The postgres database name
      postgresDB: "agenticbuilder"
      #The postgres service name
      postgresService: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-primary'
      #The postgres user password
      postgresPassword: "" 
      #postgresPasswordSecretName: "{{ .Release.Name }}-postgres-password"
      #postgresPasswordSecretKey: "password"
      # Only to let the init container create the database "$postgresDB" if it does not exist
      # Postgres Client connection timeout in seconds
      connectTimeout: "60"
      # Application name to be used in the Postgres connection
      applicationName: "agenticbuilder-app"
      # Additional connection options
      options: ""
      # Client Required Authentication for Postgres connection ( scram-sha-256, md5, password, gss, sspi, ident, peer, ldap, none)
      requiredAuthentication : "scram-sha-256"

      #### Those settings are for Creating The user and the database if not present ####
      # Those values will not be used by the application, only in the initContainer for the initialization of the DB #
      initDatabases: true
      postgresAdminUserSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
      postgresAdminUserSecretKey: "user"
      postgresAdminPasswordSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
      postgresAdminPasswordSecretKey: "password"

      # SSL Configuration for Postgres connection
      ssl:
        enabled: "true"
        # Client Configuration for Mutual TLS
        certSecretName: ""
        #By default the SecretKey is "tls.crt", you can override it by specifying the
        certSecretKey: ""

        certKeySecretName: ""
        #By default the SecretKey is "tls.key", you can override it by specifying the
        certKeySecretKey: ""
        
        certKeyPassword: ""
        # Optional CA for Mutual TLS, If not provided the trustore CA will be used
        certCaSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the
        certCaSecretKey: ""
        # Client Configuration for One-way TLS to verify server certificate
        caSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-cluster-cert'
        # By default the SecretKey is "ca.crt", you can override it by specifying the caSecretKey
        caSecretKey: "" 

        # SSL Mode for Postgres connection ( disable, allow, prefer, require, verify-ca, verify-full)
        sslMode : "prefer"
        # Whether to validate the hostname in the Postgres certificate
        hostnameValidation : "true"

    config:
      # The configuration for the Agentic AI Builder microservices to connect to the UNO instance. Do not change the values below unless you know what you are doing.
      tokenProvider: "STARLETTE"
      enableAuthentication : "true"
  authorization:
      # The authorization configuration for the Agentic AI Builder microservices. to authenticate with the UNO instance
      # Do not change the values below unless you know what you are doing.
      certs:
        HCL_AUTHORIZATION_HTTPS___WAJWT_API: "{{  .unofullname }}-jwt-key"
        HCL_AUTHORIZATION_HTTPS___WAJWT_APIGATEWAY:  "{{  .unofullname }}-jwt-key"
        HCL_AUTHORIZATION_HTTPS___WAJWT_MCP:  "{{  .unofullname }}-jwt-key"
      # oidcServerURL is the URL of the OpenID Connect (OIDC) server. Mandatory parameter.
      oidcServerURL: "https://uno-keycloak-ssl:8843"

  certificates:
    # useCustomizedCert specifies if you use custom certificates or certificates generated by cert-manager. Supported values are true and false. If you set it to false, certificates are defined by the deployment process. If you set it to true, provide the required certificates and customize the parameters listed below. 
    useCustomizedCert: false 
    # customIssuer is the name of the issuer. This parameter applies if you set useCustomizedCert to false. If not specified, a self-signed issuer is created.
    customIssuer: false
    # caPairSecretName is the name of the pair secret. This parameter applies if you set useCustomizedCert to false.
    caPairSecretName: ca-key-pair
    # certSecretName is the name of the secret. This parameter applies if you set useCustomizedCert to false.
    certSecretName : "uno-agentic-ai-builder-certificate"
    # duration is the duration of the certificates before they are set to expire. This parameter applies if you set useCustomizedCert to false.
    duration: 2160h
    # renewBefore is the time before the certificate expires when the certificate manager service begins attempts to renew the certificate. This parameter applies if you set useCustomizedCert to false.
    renewBefore: 360h
    # If you are using a custom issuer, specify the issuer name
    issuerName: ""
    # organization is the organization label within the certificates. This parameter applies if you set useCustomizedCert to false.
    organization: hcl


  serviceAccount:
    # serviceAccount is the name of the service account used by the Agentic AI Builder microservices.
    # By default will be used the global serviceAccountName.
    name: ""

  credentialManager:
    # Name of the core service
    name: cm
    #Image name
    imageName: hcl-agentic-cm
    proxyURL: ""
    # The port on which the core service will be exposed
    port: 8000
    # The number of replicas for the core service
    replicaCount: 1
    # Resource Configuration
    resources:
      limits:
        cpu: 1000m
        memory: 2500Mi
      requests:
        cpu: 300m
        memory: 500Mi

  ams:
    name: ams
    #Image name
    imageName: hcl-agentic-ams
    # The port on which the core service will be exposed
    port: 8080
    proxyURL: ""
    # The number of replicas for the core service
    replicaCount: 1
    # Resource Configuration
    resources:
      limits:
        cpu: 1000m
        memory: 2500Mi
      requests:
        cpu: 300m
        memory: 500Mi

  runner:
    name: runner
    #Image name
    imageName: hcl-agentic-runner
    # The port on which the core service will be exposed
    port: 8080
    proxyURL: ""
    # The number of replicas for the core service
    replicaCount: 2
    hpa:
      enabled: false
      minReplicas: 1
      maxReplicas: 10
    # Resource Configuration
    config:
      # The base URL of the UNO MCP service.
      unoMCPBaseURL : ""
      maxAgents: 5
    resources:
      limits:
        cpu: 1000m
        memory: 2500Mi
      requests:
        cpu: 300m
        memory: 500Mi
  uno:
    hostname: "{{ include \"uno.fullname\" . }}-gateway"
    port: "8443"
    proxyURL: ""
  image:
    # The registry where the image is hosted
    repository: hclcr.io/uno
    # The tag of the images
    tag: 2.1.3.0
    # The Pull Policy for the images
    imagePullPolicy: Always

  additionalPullSecret : ""

hclaipilot:  
  image:
    repository: hclcr.io/uno
    tag: 2.1.3.0
  
  channels:
    slackToken: ""
    slackSigningSecret: ""
    slackChannel: ""
    googleProjectId: ""
    botframeworkAppId: ""
    botframeworkAppPassword: ""

    ### To disable group check of the OIDC provider. ###
    # To be enabled when the OIDC provider is not setup with the same LDAP/User provider of the channels and is not possible to add user to it manually
    # so the email of the configured channels are manually added in the ACL
    groupless:  "false"
  
  translation:
    # Configuration for the Azure Translation API
    azure:
      # The Subscription Key for the Azure Translation API
      subscriptionKey: ""
      # The Region for the Azure Translation API
      region: ""
      # The Translation API Endpoint
      endpoint: ""
  
    # Configuration for the Google Translation API
    google:
      # The Credentials json file for the Google Translation API encoded in base64
      credentials: ""

  certificates:
    # useCustomizedCert specifies if you use custom certificates or certificates generated by cert-manager. Supported values are true and false. If you set it to false, certificates are defined by the deployment process. If you set it to true, provide the required certificates and customize the parameters listed below. 
    useCustomizedCert: false
    # customIssuer is the name of the issuer. This parameter applies if you set useCustomizedCert to false. If not specified, a self-signed issuer is created.
    customIssuer:
    # caPairSecretName is the name of the pair secret. This parameter applies if you set useCustomizedCert to false.
    caPairSecretName: ca-key-pair
    # certSecretName is the name of the secret. This parameter applies if you set useCustomizedCert to false.
    certSecretName: uno-aipilot-certificate
    # duration is the duration of the certificates before they are set to expire. This parameter applies if you set useCustomizedCert to false.
    duration: 2160h
    # renewBefore is the time before the certificate expires when the certificate manager service begins attempts to renew the certificate. This parameter applies if you set useCustomizedCert to false.
    renewBefore: 360h
    # organization is the organization label within the certificates. This parameter applies if you set useCustomizedCert to false.
    organization: hcl

  postgres:
    postgresUser: aipilot
    #The postgres port
    postgresPort : "5432"
    #The postgres database name used by the application
    postgresDB: "rasa"
    #The postgres service name
    postgresService: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-primary'
    connectTimeout: "60"
    # Application name to be used in the Postgres connection
    applicationName: "agenticbuilder-app"
    # Additional connection options
    options: ""
    # Client Required Authentication for Postgres connection ( scram-sha-256, md5, password, gss, sspi, ident, peer, ldap, none)
    requiredAuthentication : "scram-sha-256"
    #The postgres user password
    postgresPassword: "" 
    #postgresPasswordSecretName: '{{ .Release.Name }}-postgres-password'
    #postgresPasswordSecretKey: "password"
    # Only to let the init container create the database "$postgresDB" if it does not exist
    initDatabases: true
    postgresAdminUserSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
    postgresAdminUserSecretKey: "user"
    postgresAdminPasswordSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
    postgresAdminPasswordSecretKey: "password"

    ssl:
      enabled: "true"
      # Client Configuration for Mutual TLS
      certSecretName: ""
      #By default the SecretKey is "tls.crt", you can override it by specifying the
      certSecretKey: ""
      certKeySecretName: ""
      #By default the SecretKey is "tls.key", you can override it by specifying the
      certKeySecretKey: ""

      certKeyPassword: ""
      # Optional CA for Mutual TLS, If not provided the trustore CA will be used
      certCaSecretName: ""
      # By default the SecretKey is "ca.crt", you can override it by specifying the
      certCaSecretKey: ""
      # Client Configuration for One-way TLS to verify server certificate
      caSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-cluster-cert'
      # By default the SecretKey is "ca.crt", you can override it by specifying the caSecretKey
      caSecretKey: "" 
      # SSL Mode for Postgres connection ( disable, allow, prefer, require, verify-ca, verify-full)
      sslMode : "prefer"
      # Whether to validate the hostname in the Postgres certificate
      hostnameValidation : "true"

  pilotCore:
    # replicaCount is the number of replicas for the pilot core service.
    replicaCount: 1
    resources:
      limits:
        cpu: "1"
        memory: 2500Mi
      requests:
        cpu: "0.5"
        memory: 2000Mi

  pilotNlg:
    # replicaCount is the number of replicas for the pilot nlg service.
    replicaCount: 1
    resources:
      limits:
        cpu: "0.3"
        memory: 500Mi
      requests:
        cpu: "0.1"
        memory: 300Mi
  
  pilotActions:
    # replicaCount is the number of replicas for the pilot actions service.
    replicaCount: 1
    resources:
      limits:
        cpu: "0.3"
        memory: 300Mi
      requests:
        cpu: "0.1"
        memory: 200Mi
  
  rag:
    certificates:
      # useCustomizedCert specifies if you use custom certificates or certificates generated by cert-manager. Supported values are true and false. If you set it to false, certificates are defined by the deployment process. If you set it to true, provide the required certificates and customize the parameters listed below. 
      useCustomizedCert: false
      # customIssuer is the name of the issuer. This parameter applies if you set useCustomizedCert to false. If not specified, a self-signed issuer is created.
      customIssuer:
      # caPairSecretName is the name of the pair secret. This parameter applies if you set useCustomizedCert to false.
      caPairSecretName: ca-key-pair
      # certSecretName is the name of the secret. This parameter applies if you set useCustomizedCert to false.
      certSecretName: uno-aipilot-rag-certificate
      # duration is the duration of the certificates before they are set to expire. This parameter applies if you set useCustomizedCert to false.
      duration: 2160h
      # renewBefore is the time before the certificate expires when the certificate manager service begins attempts to renew the certificate. This parameter applies if you set useCustomizedCert to false.
      renewBefore: 360h
      # organization is the organization label within the certificates. This parameter applies if you set useCustomizedCert to false.
      organization: hcl

    sharedKeySecretName: "{{ .Release.Name }}-shared-key"
    
    hpa:
      minReplicas: 1  # Minimum number of replicas
      maxReplicas: 2  # Maximum number of replicas

    resources:
      limits:
        cpu: "0.8"  # CPU limit
        memory: "1024Mi"  # Memory limit
      requests:
        cpu: "0.2"  # CPU request
        memory: "256Mi"  # Memory request

    container:
      registry: hclcr.io/uno # Image name
      tag: 2.1.3.0  # Image tag
    authorization:
      # The URL of the OpenID Connect (OIDC) server for the RAG service to authenticate the jwt token
      oidcServerURL: "https://uno-keycloak-ssl:8843"
    
    postgres:
      postgresUser: ragUser
      #The postgres port
      postgresPort : "5432"
      #The postgres database name used by the application
      postgresDB: "vector_db"
      #The postgres service name
      postgresService: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-primary'
      connectTimeout: "60"
      # Application name to be used in the Postgres connection
      applicationName: "rag-app"
      # Additional connection options
      options: ""
      # Client Required Authentication for Postgres connection ( scram-sha-256, md5, password, gss, sspi, ident, peer, ldap, none)
      requiredAuthentication : "scram-sha-256"
      #The postgres user password
      postgresPassword: "" 
      #postgresPasswordSecretName: '{{ .Release.Name }}-postgres-password'
      #postgresPasswordSecretKey: "password"
      # Only to let the init container create the database "$postgresDB" if it does not exist
      initDatabases: true
      postgresAdminUserSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
      postgresAdminUserSecretKey: "user"
      postgresAdminPasswordSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-pguser-postgres'
      postgresAdminPasswordSecretKey: "password"
      
      ssl:
        enabled: "true"
        # Client Configuration for Mutual TLS
        certSecretName: ""
        #By default the SecretKey is "tls.crt", you can override it by specifying the
        certSecretKey: ""
        certKeySecretName: ""
        #By default the SecretKey is "tls.key", you can override it by specifying the
        certKeySecretKey: ""
        
        certKeyPassword: ""
        # Optional CA for Mutual TLS, If not provided the trustore CA will be used
        certCaSecretName: ""
        # By default the SecretKey is "ca.crt", you can override it by specifying the
        certCaSecretKey: ""
        # Client Configuration for One-way TLS to verify server certificate
        caSecretName: '{{ printf "%s-%s" .Release.Name "pg-db" | trunc 21 | trimSuffix "-"  }}-cluster-cert'
        # By default the SecretKey is "ca.crt", you can override it by specifying the caSecretKey
        caSecretKey: "" 
        # SSL Mode for Postgres connection ( disable, allow, prefer, require, verify-ca, verify-full)
        sslMode : "prefer"
        # Whether to validate the hostname in the Postgres certificate
        hostnameValidation : "true"