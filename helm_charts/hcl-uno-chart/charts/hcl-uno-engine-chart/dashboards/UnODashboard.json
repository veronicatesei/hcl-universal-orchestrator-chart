{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "gridPos": {
        "h": 3,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 112,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# UnO Dashboard\n* Namespace: ${Namespace}\n* Helm Release: ${Release}",
        "mode": "markdown"
      },
      "pluginVersion": "11.0.0",
      "type": "text"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 2,
      "panels": [],
      "title": "Workload",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 14,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 140,
      "options": {
        "legend": {
          "calcs": [
            "first",
            "min",
            "diff",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "round(\n  sum by(jobstatus) (\n    avg by (tenant_name, jobstatus, jobexternalstatus) (application_uno_orchestrator_jobs_count_jobs{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\", jobstatus=~\".+\"} >= 0)\n  )\n)",
          "hide": false,
          "legendFormat": "{{jobstatus}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "round(\n  sum (\n    avg by (tenant_name) (application_uno_orchestrator_inactivejs_count_js{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"} >= 0)\n  )\n)",
          "hide": false,
          "legendFormat": "NOT_ACTIVE_JS",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Jobs by status",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 91,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Max",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "round(\n  sum by(folder) (\n    avg by (tenant_name, folder, name) (\n        application_uno_workstation_linked_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\", folder=~\".+\"} >= 0\n    )\n  )\n)",
          "hide": false,
          "legendFormat": "{{folder}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "avg by (deployment) (kube_deployment_status_replicas_available{deployment=~\"$Release-agentmanager\", namespace=~\"$Namespace\"})",
          "hide": false,
          "legendFormat": "agentmanager replica count",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Linked Workstations",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "jobs/min"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "D"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 11,
        "w": 24,
        "x": 0,
        "y": 28
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum (\n  avg by (tenant_name, pod) (\n    rate(application_uno_orchestrator_submission_count_number_total{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval])\n  )\n) * 60",
          "legendFormat": "orchestrator submission rate",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum (\n  avg by (tenant_name, pod) (\n    rate(application_uno_scheduler_submission_count_number_total{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval])\n  )\n) * 60",
          "hide": false,
          "legendFormat": "scheduler submission rate",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum (\n  avg by (tenant_name, workstation, pod) (\n    rate(application_uno_orchestrator_job_execution_delay_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval])\n  )\n) * 60",
          "hide": false,
          "legendFormat": "completion rate",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "avg by (deployment) (kube_deployment_status_replicas_available{deployment=~\"$Release-orchestrator|$Release-scheduler\", namespace=~\"$Namespace\"})",
          "hide": false,
          "legendFormat": "replicas of {{deployment}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Execution rate on orchestrator and scheduler",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 137,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": false
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "avg by(tenant_name, folder, name) (\n  (application_uno_workstation_limit_free_jobs{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\"} >= 0)\n)\n/\navg by(tenant_name, folder, name) (\n  (application_uno_workstation_limit_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\"} >= 0)\n)",
          "hide": false,
          "legendFormat": "{{tenant_name}} - {{folder}}{{name}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Workstations Available Limit",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 49
      },
      "id": 67,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "avg by (tenant_name, workstation) (\n  rate(\n    application_uno_orchestrator_job_execution_delay_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"} [$__rate_interval]\n  ) >= 0\n  /\n  rate(\n    application_uno_orchestrator_job_execution_delay_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"} [$__rate_interval]\n  ) >=0\n)",
          "legendFormat": "{{tenant_name}} - {{workstation}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Execution delay by workstation",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "jobs"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 61
      },
      "id": 110,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum by (pod) (\n  avg by (tenant_name, pod) (\n    application_uno_cloud_executor_running_task_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"} >= 0\n  )\n)",
          "legendFormat": "{{pod}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cloud Task Launcher running tasks by pod",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "prometheus"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "C"
            },
            "properties": [
              {
                "id": "custom.axisPlacement",
                "value": "right"
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 73
      },
      "id": 111,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "mean",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Last",
          "sortDesc": true
        },
        "tooltip": {
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum by (type) (\n  rate(application_uno_timer_task_execution_lag_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\"}[$__rate_interval]) >=0\n)\n/\nsum by (type) (\n  rate(application_uno_timer_task_execution_lag_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\"}[$__rate_interval]) >=0\n)",
          "legendFormat": "Timer lag {{type}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "expr": "sum by (type) (\n  rate(application_uno_timer_task_execution_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\"}[$__rate_interval]) >= 0\n)\n/\nsum by (type) (\n  rate(application_uno_timer_task_execution_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\"}[$__rate_interval]) >= 0\n)",
          "hide": false,
          "legendFormat": "Timer avg execution time {{type}}",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (type) (\n  avg by (tenant_name, type, pod) (\n    rate(application_uno_timer_task_execution_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\"}[$__rate_interval]) >= 0\n  )\n)",
          "format": "time_series",
          "hide": false,
          "instant": false,
          "legendFormat": "Number of execution {{type}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Timer execution",
      "type": "timeseries"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 85
      },
      "id": 113,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Response Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Tool Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 86
          },
          "id": 117,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Conversations",
              "range": false,
              "refId": "conv",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_errors_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Errors",
              "range": false,
              "refId": "errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_tool_errors_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Tool Errors",
              "range": false,
              "refId": "tool_errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_invoke_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Invoke",
              "range": false,
              "refId": "invoke",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_genaicalls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} GenAI Calls",
              "range": false,
              "refId": "genaicalls"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Tools",
              "range": false,
              "refId": "tools"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_response_time_monthly_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_invoke_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Respnse Time",
              "range": false,
              "refId": "response_time"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_tool_duration_monthly_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    / \n    application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Tool Duration",
              "range": false,
              "refId": "tool_duration",
              "useBackend": false
            }
          ],
          "title": "Agent Conversation (last month)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "tenant_name 2": true,
                  "tenant_name 3": true,
                  "tenant_name 4": true,
                  "tenant_name 5": true,
                  "tenant_name 6": true,
                  "tenant_name 7": true,
                  "tenant_name 8": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 11,
                  "Time 3": 14,
                  "Time 4": 17,
                  "Time 5": 20,
                  "Time 6": 23,
                  "Value #conv": 5,
                  "Value #errors": 6,
                  "Value #genaicalls": 8,
                  "Value #tool_duration": 10,
                  "Value #tool_errors": 7,
                  "Value #tools": 9,
                  "agent 1": 3,
                  "agent 2": 12,
                  "agent 3": 15,
                  "agent 4": 18,
                  "agent 5": 21,
                  "agent 6": 24,
                  "composite_key": 0,
                  "mode 1": 4,
                  "mode 2": 13,
                  "mode 3": 16,
                  "mode 4": 19,
                  "mode 5": 22,
                  "mode 6": 25,
                  "tenant_name 1": 2,
                  "tenant_name 2": 26,
                  "tenant_name 3": 27
                },
                "renameByName": {
                  "Value #conv": "# Conversations",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "Avg User Prompts",
                  "Value #response_time": "Avg Response Time",
                  "Value #tool_duration": "Avg Tool Duration",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "tenant_name 1": "Tenant"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 93
          },
          "id": 122,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, workflow, service_name) (\n    max by (tenant_name, agent, mode, model, workflow, service_name) (\n      application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "calls",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, workflow, service_name) (\n    max by (tenant_name, agent, mode, model, workflow, service_name) (\n      application_uno_aiagent_tool_errors_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode, workflow, service_name) (\n    application_uno_aiagent_tool_duration_monthly_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "response_time"
            }
          ],
          "title": "Tool Execution (last month)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 1": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "service_name 2": true,
                  "service_name 3": true,
                  "tenant_name 2": true,
                  "tenant_name 3": true,
                  "workflow 2": true,
                  "workflow 3": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 10,
                  "Time 3": 13,
                  "Value #calls": 7,
                  "Value #errors": 8,
                  "Value #response_time": 9,
                  "agent 1": 5,
                  "agent 2": 11,
                  "agent 3": 14,
                  "composite_key": 0,
                  "mode 1": 6,
                  "mode 2": 12,
                  "mode 3": 15,
                  "service_name 1": 4,
                  "service_name 2": 18,
                  "service_name 3": 19,
                  "tenant_name 1": 2,
                  "tenant_name 2": 20,
                  "tenant_name 3": 21,
                  "workflow 1": 3,
                  "workflow 2": 16,
                  "workflow 3": 17
                },
                "renameByName": {
                  "Value #calls": "# Executions",
                  "Value #conv": "# Conversations",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "Avg User Prompts",
                  "Value #response_time": "Avg Duration",
                  "Value #tool_duration": "Avg Tool Execution Time",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "service_name 1": "Service Name",
                  "tenant_name 1": "Tenant",
                  "workflow 1": "Workflow"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Response Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Tool Execution Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 100
          },
          "id": 119,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_conversations_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Conversations",
              "range": false,
              "refId": "conv",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_errors_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Errors",
              "range": false,
              "refId": "errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_tool_errors_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Tool Errors",
              "range": false,
              "refId": "tool_errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_invoke_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Invoke",
              "range": false,
              "refId": "invoke",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_genaicalls_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} GenAI Calls",
              "range": false,
              "refId": "genaicalls"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_tool_calls_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_conversations_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Tools",
              "range": false,
              "refId": "tools"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_response_time_daily_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_invoke_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Response Time",
              "range": false,
              "refId": "response_time"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode) (\n    application_uno_aiagent_tool_duration_daily_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Avg Tool Duration",
              "range": false,
              "refId": "tool_duration",
              "useBackend": false
            }
          ],
          "title": "Agent Conversation (last 24h)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "tenant_name 2": true,
                  "tenant_name 3": true,
                  "tenant_name 4": true,
                  "tenant_name 5": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 12,
                  "Time 3": 15,
                  "Time 4": 18,
                  "Time 5": 21,
                  "Time 6": 24,
                  "Time 7": 27,
                  "Value #conv": 5,
                  "Value #errors": 6,
                  "Value #invoke": 8,
                  "Value #response_time": 10,
                  "Value #tool_duration": 11,
                  "Value #tool_errors": 7,
                  "Value #tools": 9,
                  "agent 1": 3,
                  "agent 2": 13,
                  "agent 3": 16,
                  "agent 4": 19,
                  "agent 5": 22,
                  "agent 6": 25,
                  "agent 7": 28,
                  "composite_key": 0,
                  "mode 1": 4,
                  "mode 2": 14,
                  "mode 3": 17,
                  "mode 4": 20,
                  "mode 5": 23,
                  "mode 6": 26,
                  "mode 7": 29,
                  "tenant_name 1": 2,
                  "tenant_name 2": 30,
                  "tenant_name 3": 31,
                  "tenant_name 4": 32,
                  "tenant_name 5": 33
                },
                "renameByName": {
                  "Value #conv": "# Conversations",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "Avg User Prompts",
                  "Value #response_time": "Avg Response Time",
                  "Value #tool_duration": "Avg Tool Execution Time",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "tenant_name 1": "Tenant"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 107
          },
          "id": 123,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, workflow, service_name) (\n    max by (tenant_name, agent, mode, model, workflow, service_name) (\n      application_uno_aiagent_tool_calls_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "calls",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, workflow, service_name) (\n    max by (tenant_name, agent, mode, model, workflow, service_name) (\n      application_uno_aiagent_tool_errors_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "errors"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  avg by (tenant_name, agent, mode, workflow, service_name) (\n    application_uno_aiagent_tool_duration_daily_milliseconds{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    /\n    application_uno_aiagent_tool_calls_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"workflow\", \"service_name\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "response_time"
            }
          ],
          "title": "Tool Execution (last 24h)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 1": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "service_name 2": true,
                  "service_name 3": true,
                  "tenant_name 2": true,
                  "tenant_name 3": true,
                  "workflow 2": true,
                  "workflow 3": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 10,
                  "Time 3": 13,
                  "Value #calls": 7,
                  "Value #errors": 8,
                  "Value #response_time": 9,
                  "agent 1": 5,
                  "agent 2": 11,
                  "agent 3": 14,
                  "composite_key": 0,
                  "mode 1": 6,
                  "mode 2": 12,
                  "mode 3": 15,
                  "service_name 1": 4,
                  "service_name 2": 18,
                  "service_name 3": 19,
                  "tenant_name 1": 2,
                  "tenant_name 2": 20,
                  "tenant_name 3": 21,
                  "workflow 1": 3,
                  "workflow 2": 16,
                  "workflow 3": 17
                },
                "renameByName": {
                  "Value #calls": "# Executions",
                  "Value #conv": "# Conversations",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "Avg User Prompts",
                  "Value #response_time": "Avg Duration",
                  "Value #tool_duration": "Avg Tool Execution Time",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "service_name 1": "Service Name",
                  "tenant_name 1": "Tenant",
                  "workflow 1": "Workflow"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Response Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Tool Execution Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 114
          },
          "id": 120,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, model) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_units_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Daily Units",
              "range": false,
              "refId": "d_unit",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (tenant_name, agent, mode, model) (\n    max by (tenant_name, agent, mode, model) (\n      application_uno_aiagent_units_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} Monthly Units",
              "range": false,
              "refId": "m_units",
              "useBackend": false
            }
          ],
          "title": "AI Agent Cost (Cloud Service)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "tenant_name 2": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 6,
                  "Value #d_unit": 10,
                  "Value #m_units": 12,
                  "agent 1": 3,
                  "agent 2": 7,
                  "composite_key": 0,
                  "mode 1": 4,
                  "mode 2": 8,
                  "model 1": 5,
                  "model 2": 9,
                  "tenant_name 1": 2,
                  "tenant_name 2": 11
                },
                "renameByName": {
                  "Value #conv": "# Conversations",
                  "Value #d_unit": "Consumed GenAI Units (24h)",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "# User Prompts",
                  "Value #m_units": "Consumed GenAI Units (30d)",
                  "Value #response_time": "Avg Response Time",
                  "Value #tool_duration": "Avg Tool Execution Time",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "tenant_name 1": "Tenant"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Response Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Tool Execution Time"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 121
          },
          "id": 121,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_tokens_in_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "d_token_in",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_tokens_out_daily_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "d_token_out",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_cost_daily_dollars{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "d_cost",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_tokens_in_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "m_token_in",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_tokens_out_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "m_token_out",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  max by (tenant_name, agent, mode, model) (\n    application_uno_aiagent_cost_monthly_dollars{namespace=\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n  ),\n  \"composite_key\", \"-\", \"tenant_name\", \"agent\", \"mode\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "m_cost",
              "useBackend": false
            }
          ],
          "title": "AI Agent Cost (BYOL)",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Time 6": true,
                  "Time 7": true,
                  "Time 8": true,
                  "Value": false,
                  "agent 2": true,
                  "agent 3": true,
                  "agent 4": true,
                  "agent 5": true,
                  "agent 6": true,
                  "agent 7": true,
                  "agent 8": true,
                  "composite_key": true,
                  "mode 2": true,
                  "mode 3": true,
                  "mode 4": true,
                  "mode 5": true,
                  "mode 6": true,
                  "mode 7": true,
                  "mode 8": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "model 6": true,
                  "model 7": true,
                  "model 8": true,
                  "tenant_name 2": true,
                  "tenant_name 3": true,
                  "tenant_name 4": true,
                  "tenant_name 5": true,
                  "tenant_name 6": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 1,
                  "Time 2": 12,
                  "Time 3": 16,
                  "Time 4": 20,
                  "Time 5": 24,
                  "Time 6": 28,
                  "Value #d_cost": 8,
                  "Value #d_token_in": 6,
                  "Value #d_token_out": 7,
                  "Value #m_cost": 11,
                  "Value #m_token_in": 9,
                  "Value #m_token_out": 10,
                  "agent 1": 3,
                  "agent 2": 13,
                  "agent 3": 17,
                  "agent 4": 21,
                  "agent 5": 25,
                  "agent 6": 29,
                  "composite_key": 0,
                  "mode 1": 4,
                  "mode 2": 14,
                  "mode 3": 18,
                  "mode 4": 22,
                  "mode 5": 26,
                  "mode 6": 30,
                  "model 1": 5,
                  "model 2": 15,
                  "model 3": 19,
                  "model 4": 23,
                  "model 5": 27,
                  "model 6": 31,
                  "tenant_name 1": 2,
                  "tenant_name 2": 32,
                  "tenant_name 3": 33,
                  "tenant_name 4": 34,
                  "tenant_name 5": 35,
                  "tenant_name 6": 36
                },
                "renameByName": {
                  "Value #conv": "# Conversations",
                  "Value #d_cost": "Cost (24h)",
                  "Value #d_token_in": "Token In (24h)",
                  "Value #d_token_out": "Token Out (24h)",
                  "Value #d_unit": "Consumed GenAI Units (24h)",
                  "Value #errors": "# Errors",
                  "Value #genaicalls": "Avg GenAI Calls",
                  "Value #invoke": "Avg User Prompts",
                  "Value #m_cost": "Cost (30d)",
                  "Value #m_token_in": "Token In (30d)",
                  "Value #m_token_out": "Token Out (30d)",
                  "Value #m_units": "Consumed GenAI Units (30d)",
                  "Value #response_time": "Avg Response Time",
                  "Value #tool_duration": "Avg Tool Execution Time",
                  "Value #tool_errors": "# Tool Errors",
                  "Value #tools": "Avg Tool Calls",
                  "agent 1": "Agent",
                  "mode 1": "Mode",
                  "model 1": "GenAI Model",
                  "model 2": "",
                  "tenant_name 1": "Tenant"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "AI Agents Stats",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 86
      },
      "id": 118,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 129
          },
          "id": 125,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, agent, mode) (\n  avg by (tenant_name, agent, mode, pod) (\n    irate(application_uno_aiagent_invoke_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n) * 60",
              "hide": false,
              "legendFormat": "Agent: {{tenant_name}} - {{agent}} - {{mode}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, workflow, service_name, agent, mode) (\n  avg by (tenant_name, workflow, service_name, agent, mode, pod) (\n    irate(application_uno_aiagent_tool_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n) * 60",
              "hide": false,
              "instant": false,
              "legendFormat": "Tool: {{tenant_name}} - {{workflow}} - {{service_name}} - {{agent}} - {{mode}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "AI Agent / Tool Calls per minute",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 141
          },
          "id": 126,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, agent, mode) (\n  avg by (tenant_name, agent, mode, pod) (\n    irate(application_uno_aiagent_invoke_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\", status=\"ERROR\"}[$__rate_interval]) >= 0\n  )\n) * 60",
              "hide": false,
              "legendFormat": "Agent: {{tenant_name}} - {{agent}} - {{mode}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, workflow, service_name) (\n  avg by (tenant_name, workflow, service_name, agent, mode, pod) (\n    irate(application_uno_aiagent_tool_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\", status=\"FAILED\"}[$__rate_interval]) >= 0\n  )\n) * 60",
              "hide": false,
              "instant": false,
              "legendFormat": "Tool: {{tenant_name}} - {{workflow}} - {{service_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "AI Agent / Tool Errors",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 153
          },
          "id": 127,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, agent, mode) (\n  avg by (tenant_name, agent, mode, status, pod) (\n    rate(application_uno_aiagent_invoke_seconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n) / sum by (tenant_name, agent, mode) (\n  avg by (tenant_name, agent, mode, status, pod) (\n    rate(application_uno_aiagent_invoke_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n)",
              "hide": false,
              "legendFormat": "Agent: {{tenant_name}} - {{agent}} - {{mode}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "AI Agent Response time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 165
          },
          "id": 128,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (tenant_name, workflow, service_name, agent, mode) (\n  avg by (tenant_name, workflow, service_name, agent, mode, status, pod) (\n    rate(application_uno_aiagent_tool_seconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n) / sum by (tenant_name, workflow, service_name, agent, mode) (\n  avg by (tenant_name, workflow, service_name, agent, mode, status, pod) (\n    rate(application_uno_aiagent_tool_seconds_count{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n)",
              "hide": false,
              "legendFormat": "Tool: {{tenant_name}} - {{workflow}} - {{service_name}} - {{agent}} - {{mode}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Tool Duration",
          "type": "timeseries"
        }
      ],
      "title": "AI Agent Activity",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 87
      },
      "id": 104,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 88
          },
          "id": 107,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum(\n    avg by (tenant_name) (\n      application_uno_orchestrator_license_job_count_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", period=\"month\", type=\"unique\", pod=~\"$pod\"} > 0\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Consumed unique jobs in current month",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "unique"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 20,
            "x": 4,
            "y": 88
          },
          "id": 124,
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum by (type) (\n    avg by (tenant_name, type) (\n      application_uno_orchestrator_license_job_count_number{namespace=~\"$Namespace\", release=~\"$Release\", period=\"month\", pod=~\"$pod\"} > 0\n    )\n  )\n)",
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Consumed jobs",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 92
          },
          "id": 106,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum(\n    avg by (tenant_name) (\n      application_uno_orchestrator_license_job_to_send_jobs{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Jobs to send to license server",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 96
          },
          "id": 114,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum(\n    avg by (tenant_name) (\n      application_uno_aiagent_license_units_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", period=\"month\", type=\"total\", pod=~\"$pod\"} > 0\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Consumed AI Execution Units in current month",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 20,
            "x": 4,
            "y": 96
          },
          "id": 116,
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum by (type) (\n    avg by (tenant_name, type) (\n      application_uno_aiagent_license_units_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", period=\"month\", pod=~\"$pod\"} > 0\n    )\n  )\n)",
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Consumed AI Execution Units",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 100
          },
          "id": 115,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum(\n    avg by (tenant_name) (\n      application_uno_aiagent_license_units_to_send{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "AI Execution Units to send to license server",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 104
          },
          "id": 129,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum (\n    avg by (tenant_name, agent, mode, model, pod) (\n      application_uno_aiagent_units_monthly_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "GenAI Units by Agents in last 30 days",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 20,
            "x": 4,
            "y": 104
          },
          "id": 131,
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum (\n    avg by (tenant_name, agent, mode, model, pod) (\n      application_uno_aiagent_units_monthly_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n    )\n  ) +\n  sum (\n    avg by (tenant_name) (\n      increase(application_uno_genai_proxy_units_number_total{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\"}[30d])\n    )\n  )\n)",
              "legendFormat": "{{type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Consumed GenAI Units (estimated)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 108
          },
          "id": 130,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "round(\n  sum (\n    avg by (tenant_name) (\n      increase(application_uno_genai_proxy_units_number_total{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\"}[30d])\n    )\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "GenAI Units by Console in last 30 days (estimated)",
          "type": "stat"
        }
      ],
      "title": "UnO License",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 88
      },
      "id": 132,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 89
          },
          "id": 134,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum (\n  max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n    application_uno_genai_cost_daily_dollars{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "Requests",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Cost last 24h",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 20,
            "x": 4,
            "y": 89
          },
          "id": 136,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Cost ($)"
              }
            ]
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (scenario, platform, model) (\n    max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n      application_uno_genai_cost_monthly_dollars{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"scenario\", \"platform\", \"model\"\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{composite_key}} (Cost)",
              "range": false,
              "refId": "Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (scenario, platform, model) (\n    max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n      application_uno_genai_stats_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"scenario\", \"platform\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} (Count)",
              "range": false,
              "refId": "Count",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (scenario, platform, model) (\n    max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n      application_uno_genai_tokens_in_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"scenario\", \"platform\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} (Count)",
              "range": false,
              "refId": "InputTokens",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_join(\n  sum by (scenario, platform, model) (\n    max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n      application_uno_genai_tokens_out_monthly_number{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n    )\n  ),\n  \"composite_key\", \"-\", \"scenario\", \"platform\", \"model\"\n)",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{composite_key}} (Count)",
              "range": false,
              "refId": "OutputTokens",
              "useBackend": false
            }
          ],
          "title": "Monthly Scenario Stats",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "composite_key",
                "mode": "inner"
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "avgCost",
                "binary": {
                  "left": "Value #Cost",
                  "operator": "/",
                  "right": "Value #Count"
                },
                "mode": "binary",
                "reduce": {
                  "reducer": "sum"
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "Value #ConsumedUnits": false,
                  "composite_key": true,
                  "deploymentName 1": true,
                  "deploymentName 2": true,
                  "model 2": true,
                  "model 3": true,
                  "model 4": true,
                  "model 5": true,
                  "organizationName 1": true,
                  "organizationName 2": true,
                  "platform 1": false,
                  "platform 2": true,
                  "platform 3": true,
                  "platform 4": true,
                  "platform 5": true,
                  "scenario 2": true,
                  "scenario 3": true,
                  "scenario 4": true,
                  "scenario 5": true
                },
                "includeByName": {},
                "indexByName": {
                  "Avg Cost": 10,
                  "Time 1": 0,
                  "Time 2": 1,
                  "Value #Cost": 6,
                  "Value #Count": 9,
                  "composite_key": 2,
                  "model 1": 5,
                  "model 2": 11,
                  "platform 1": 4,
                  "platform 2": 7,
                  "scenario 1": 3,
                  "scenario 2": 8
                },
                "renameByName": {
                  "Avg Cost": "Avg Cost ($)",
                  "Value #A": "Requests",
                  "Value #B": "Cost ($)",
                  "Value #ConsumedUnits": "Consumed Units",
                  "Value #Cost": "Cost ($)",
                  "Value #Cost / Value #Count": "Avg Cost",
                  "Value #Count": "Count",
                  "Value #InputTokens": "Input Tokens",
                  "Value #OutputTokens": "Output Tokens",
                  "avgCost": "Avg Cost ($)",
                  "avgCostPerUnit": "Avg Cost per Unit ($)",
                  "composite_key": "",
                  "deploymentId": "Deployment ID",
                  "deploymentName 1": "Deployment",
                  "organizationName 1": "Organization"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 93
          },
          "id": 135,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum (\n  max by (agentMode, completionStatus, conversationId, deleted, deploymentId, deploymentName, feedbackType, model, organizationName, platform, scenario) (\n    application_uno_genai_cost_monthly_dollars{namespace=\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "Requests",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Cost last 30 days",
          "type": "stat"
        }
      ],
      "title": "GenAI Cost (BYOL)",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 89
      },
      "id": 81,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 9
          },
          "id": 83,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (topic) (\n  avg by (messageSubType, messageType, topic, pod) (\n    rate(application_uno_message_process_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Rate of processed messages by topic",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 20
          },
          "id": 138,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (topic, messageType, messageSubType) (\n  avg by (topic, messageType, messageSubType, pod) (\n    rate(application_uno_message_process_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n) / 1000",
              "legendFormat": "{{topic}} - {{messageType}} {{messageSubType}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Processing usage by message type",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 31
          },
          "id": 109,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (topic, messageType, messageSubType) (\n  avg by (topic, messageType, messageSubType, pod) (\n    rate(application_uno_message_process_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n)",
              "legendFormat": "{{topic}} - {{messageType}} {{messageSubType}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Rate of processed messages by message",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 42
          },
          "id": 78,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (topic, service) (\n  avg by (client_id, kafka_version, partition, topic, pod, service) (\n    kafka_consumer_fetch_manager_records_lag{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "hide": false,
              "legendFormat": "{{service}} / {{topic}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Message topic consumer lag",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 52
          },
          "id": 103,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "(\n  sum by (topic, messageType, messageSubType) (\n    avg by (topic, messageType, messageSubType, pod) (\n      rate(application_uno_message_process_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n    )\n  )\n  /\n  sum by (topic, messageType, messageSubType) (\n    avg by (topic, messageType, messageSubType, pod) (\n      rate(application_uno_message_process_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n    )\n  )\n) >= 0",
              "hide": false,
              "legendFormat": "{{topic}} - {{messageType}} {{messageSubType}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Average processing time by message type",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 63
          },
          "id": 88,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "(\n  sum by (topic) (\n    avg by (topic, pod) (\n      rate(application_uno_message_process_delay_milliseconds_sum{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n    )\n  )\n  /\n  sum by (topic) (\n    avg by (topic, pod) (\n      rate(application_uno_message_process_delay_milliseconds_count{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n    )\n  )\n) > 0",
              "legendFormat": "{{topic}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Message processing delay by topic",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 74
          },
          "id": 85,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (topic, messageType, messageSubType) (\n  avg by (topic, messageType, messageSubType, pod) (\n    rate(application_uno_message_process_errors_number_total{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n  )\n)",
              "legendFormat": "{{topic}} - {{messageType}} {{messageSubType}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Message processing errors",
          "type": "timeseries"
        }
      ],
      "title": "Message processing",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 90
      },
      "id": 139,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 0,
            "y": 4
          },
          "id": 4,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (cacheName, pod) (\n  application_uno_cache_lru_current_size_number{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"} > 0\n)",
              "hide": false,
              "legendFormat": "{{cacheName}} - {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Cache Size",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 12,
            "y": 4
          },
          "id": 141,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (cacheName, pod) (\n  application_uno_cache_lru_hitrate_percentage{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"} > 0\n)",
              "hide": false,
              "legendFormat": "{{cacheName}} - {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Cache Hitrate",
          "type": "timeseries"
        }
      ],
      "title": "Cache Monitoring",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 91
      },
      "id": 92,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 288
          },
          "id": 93,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "expr": "sum by (pod) (\n  avg by (client_id, kafka_version, pod) (\n    kafka_consumer_request_rate{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Kafka Consumer Request Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 299
          },
          "id": 101,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (pod) (\n  avg by (client_id, kafka_version, pod) (\n    kafka_consumer_fetch_manager_fetch_latency_avg{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Kafka Consumer Avg Fetch Latency",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 310
          },
          "id": 94,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (pod) (\n  avg by (client_id, kafka_version, pod) (\n    kafka_producer_request_rate{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Kafka Producer Request Rate",
          "type": "timeseries"
        }
      ],
      "title": "Kafka",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 92
      },
      "id": 9,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 12
          },
          "id": 15,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (pod) (\n  kube_pod_status_phase{pod=~\"$Release-.*\", namespace=~\"$Namespace\", phase=\"Failed\", pod=~\"$pod\"}\n)",
              "interval": "",
              "legendFormat": "{{ pod }}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Failing Pods",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 19
          },
          "id": 108,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (deployment) (\n  kube_deployment_status_replicas_available{deployment=~\"$Release-.*\", namespace=~\"$Namespace\"}\n)",
              "hide": false,
              "legendFormat": "{{deployment}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "POD replicas",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 16,
            "w": 24,
            "x": 0,
            "y": 29
          },
          "id": 76,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.4.7",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by (pod) (\n  kube_pod_container_status_restarts_total{pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n)",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Number of Pod restarts",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 45
          },
          "id": 17,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg by (namespace, pod) (\n  rate(container_cpu_usage_seconds_total{cpu=\"total\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n)",
              "hide": false,
              "legendFormat": "{{namespace}} - {{ pod }}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod) (\n  increase(container_cpu_usage_seconds_total{cpu=\"total\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}[1m]) / 60\n)",
              "hide": true,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod) (\n  irate(container_cpu_usage_seconds_total{cpu=\"total\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}[$__rate_interval])\n)",
              "hide": true,
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Pods CPU usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 58
          },
          "id": 19,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod) (\n  container_memory_usage_bytes{container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n)",
              "hide": false,
              "legendFormat": "used by {{pod}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod) (\n  kube_pod_container_resource_limits{resource=\"memory\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n)",
              "hide": false,
              "legendFormat": "limit for {{pod}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Pods Memory usage vs Limits",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 69
          },
          "id": 74,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Min",
              "sortDesc": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod, container) (\n  kube_pod_container_resource_limits{resource=\"memory\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n) - on(pod, namespace, container) avg by (namespace, pod, container) (\n  container_memory_usage_bytes{container!=\"\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n)",
              "hide": false,
              "legendFormat": "available for {{pod}} on {{container}} {{namespace}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, pod) (\n  kube_pod_container_resource_limits{resource=\"memory\", container!=\"\", pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}\n)",
              "hide": true,
              "legendFormat": "limit for {{pod}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Pods Memory available vs Limits",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 79
          },
          "id": 39,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, release, pod, container) (\n  jvm_threads_live_threads{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n)",
              "legendFormat": "{{namespace}} - {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Live Threads",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 90
          },
          "id": 21,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg by (namespace, pod) (\n  rate(container_network_receive_bytes_total{ pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n)",
              "legendFormat": "{{namespace}} - {{ pod }} - Received",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg by (namespace, pod) (\n  rate(container_network_transmit_bytes_total{ pod=~\"$Release-.*\", namespace=~\"$Namespace\", pod=~\"$pod\"}[$__rate_interval]) >= 0\n) * -1",
              "hide": false,
              "legendFormat": "{{namespace}} - {{ pod }} - Sent",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Network I/O Pods (+Received / -Sent)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 103
          },
          "id": 11,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "max by (deployment) (\n  kube_deployment_status_replicas_available{deployment=~\"$Release-.*\", namespace=~\"$Namespace\"}\n)",
              "legendFormat": "{{deployment}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "max by (statefulset) (\n  kube_statefulset_status_replicas_current{namespace=~\"$Namespace\"}\n)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{statefulset}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Available POD replicas",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 114
          },
          "id": 102,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Min",
              "sortDesc": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (persistentvolumeclaim) (\n  kubelet_volume_stats_available_bytes{namespace=~\"$Namespace\"}\n)",
              "legendFormat": "{{deployment}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Available PVC Storage",
          "type": "timeseries"
        }
      ],
      "title": "UnO PODs",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 93
      },
      "id": 73,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 13
          },
          "id": 71,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (tenant_name, gw) (\n  avg by (tenant_name, gw, pod) (\n    application_uno_agentmanager_command_queue_count_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"} >= 0\n  )\n)",
              "legendFormat": "{{tenant_name}} - {{gw}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Agent Gateway queue on Agent Manager",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "id": 63,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (tenant_name, pod) (\n  application_uno_agentmanager_gw_connected_number{namespace=~\"$Namespace\", release=~\"$Release\", tenant_name=~\"$tenant_name\", pod=~\"$pod\"}\n)",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Number of connected gateways",
          "type": "timeseries"
        }
      ],
      "title": "Agent Manager",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 94
      },
      "id": 25,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 461
          },
          "id": 62,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, release, pod, container) (\n  jvm_memory_max_bytes{ namespace=~\"$Namespace\", release=~\"$Release\",area=\"heap\", pod=~\"$pod\" }\n)",
              "legendFormat": "{{namespace}} - {{pod}} - {{release}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "JVM Heap Memory Max Bytes",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time"
                },
                "properties": [
                  {
                    "id": "custom.hidden",
                    "value": true
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 470
          },
          "id": 80,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Value"
              }
            ]
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (pod) (\n  avg by (namespace, release, pod, container, id) (\n    jvm_memory_max_bytes{area=\"heap\", namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "JVM Heap Memory Max Bytes - Table",
          "transformations": [
            {
              "id": "calculateField",
              "options": {
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value"
                  ],
                  "reducer": "first"
                }
              }
            },
            {
              "id": "calculateField",
              "options": {
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value"
                  ],
                  "reducer": "last"
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {
                  "First": 2,
                  "Last": 4,
                  "Time": 0,
                  "Value": 3,
                  "pod": 1
                },
                "renameByName": {}
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "max": 1,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 481
          },
          "id": 27,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (pod) (\n  avg by (pod, container, id) (\n    jvm_memory_used_bytes{namespace=~\"$Namespace\", release=~\"$Release\",area=\"heap\", pod=~\"$pod\"}\n  )\n) / sum by (pod) (\n  avg by (pod, container, id) (\n    jvm_memory_max_bytes{ namespace=~\"$Namespace\", release=~\"$Release\",area=\"heap\", pod=~\"$pod\" }\n  )\n)",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "JVM Heap Memory Used %",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 490
          },
          "id": 41,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "expr": "sum by (pod) (\n  avg by (pod, container) (\n    jvm_gc_overhead{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n  )\n)",
              "legendFormat": "{{pod}} ",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "JVM GC Overhead %",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 498
          },
          "id": 69,
          "options": {
            "legend": {
              "calcs": [
                "min",
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "expr": "avg by (pod, container) (\n  jvm_gc_pause_seconds_max{namespace=~\"$Namespace\", release=~\"$Release\", pod=~\"$pod\"}\n)",
              "legendFormat": "{{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "JVM GC Pause Max Seconds",
          "type": "timeseries"
        }
      ],
      "title": "Quarkus JVM",
      "type": "row"
    }
  ],
  "refresh": "10s",
  "revision": 1,
  "schemaVersion": 39,
  "tags": [
    "hcl-uno"
  ],
  "templating": {
    "list": [
      {
        "hide": 2,
        "name": "Namespace",
        "query": "%NAMESPACE%",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "hide": 2,
        "label": "",
        "name": "Release",
        "query": "%RELEASE%",
        "skipUrlSync": false,
        "type": "constant"
      },
      {
        "current": {
          "selected": false,
          "text": "[45s]",
          "value": "[45s]"
        },
        "hide": 2,
        "includeAll": false,
        "multi": false,
        "name": "cpuDur",
        "options": [
          {
            "selected": true,
            "text": "[45s]",
            "value": "[45s]"
          }
        ],
        "query": "[45s]",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "allValue": "",
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "definition": "label_values(container_cpu_usage_seconds_total{pod=~\"$Release-.*\", namespace=~\"$Namespace\"}, pod)",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "pod",
        "options": [],
        "query": {
          "query": "label_values(container_cpu_usage_seconds_total{pod=~\"$Release-.*\", namespace=~\"$Namespace\"}, pod)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": "",
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "definition": "label_values(application_uno_tenant_number{namespace=~\"$Namespace\", release=~\"$Release\"},tenant_name)",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "tenant_name",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(application_uno_tenant_number{namespace=~\"$Namespace\", release=~\"$Release\"},tenant_name)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-3h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "UnO Dashboard - %NAMESPACE% - %RELEASE%",
  "weekStart": ""
}